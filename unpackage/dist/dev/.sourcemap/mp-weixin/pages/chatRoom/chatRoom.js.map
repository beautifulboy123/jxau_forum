{"version":3,"sources":["uni-app:///main.js","webpack:///F:/桌面/jxau_forum/jxau_forum/pages/chatRoom/chatRoom.vue?fc6b","webpack:///F:/桌面/jxau_forum/jxau_forum/pages/chatRoom/chatRoom.vue?8a69","webpack:///F:/桌面/jxau_forum/jxau_forum/pages/chatRoom/chatRoom.vue?ae6e","webpack:///F:/桌面/jxau_forum/jxau_forum/pages/chatRoom/chatRoom.vue?010a","uni-app:///pages/chatRoom/chatRoom.vue","webpack:///F:/桌面/jxau_forum/jxau_forum/pages/chatRoom/chatRoom.vue?02c9","webpack:///F:/桌面/jxau_forum/jxau_forum/pages/chatRoom/chatRoom.vue?f61e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/chatRoom/chatRoom.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chatRoom/chatRoom.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chatRoom.vue?vue&type=template&id=35e753e6&\"\nvar renderjs\nimport script from \"./chatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./chatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatRoom.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chatRoom/chatRoom.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatRoom.vue?vue&type=template&id=35e753e6&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-navbar/u-navbar\" */ \"uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uLoading: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-loading/u-loading\" */ \"uview-ui/components/u-loading/u-loading.vue\"\n      )\n    },\n    safeFooter: function() {\n      return import(\n        /* webpackChunkName: \"components/safe-footer/safe-footer\" */ \"@/components/safe-footer/safe-footer.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatRoom.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<u-navbar :is-back=\"true\" back-icon-color=\"#5098FF\" :title=\"target.name\" title-color=\"#000\"></u-navbar>\r\n\r\n\t\t<view class=\"main\">\r\n\t\t\t<view :class=\"['loadingWraper',refresherTriggered ? 'isloading' : '']\">\r\n\t\t\t\t<u-loading :show=\"true\" size=\"36\" color=\"#5098FF\"></u-loading>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-y=\"true\" class=\"chat_scroll\" :style=\"{height: `calc(100% - `+ inputHeight +`)`}\"\r\n\t\t\t\tscroll-with-animation :scroll-into-view=\"scrollToView\" refresher-enabled refresher-default-style=\"none\"\r\n\t\t\t\t:refresher-threshold='30' @refresherrestore=\"refresherrestore\" :refresher-triggered=\"refresherTriggered\"\r\n\t\t\t\t@refresherrefresh=\"refresherrefresh\">\r\n\t\t\t\t<view class=\"system_chat_wrap\" v-if=\"target.type == 0\">\r\n\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t<view class=\"time\"><span>23:01</span></view>\r\n\t\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t\t写不完啦写不完啦~\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"arrow\" v-if=\"target.name === '评论' || target.name === '赞和收藏'\">\r\n\t\t\t\t\t\t\t<i class=\"iconfont icon-jiantou\"></i>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"chat_list\" v-if=\"target.type == 1\">\r\n\t\t\t\t\t<view class=\"item_wrap\" v-for=\"(item,index) in messageList\" :key=\"item.messageid\"\r\n\t\t\t\t\t\t:id=\"'msg'+item.messageid\">\r\n\t\t\t\t\t\t<view class=\"time\" v-if=\"item.showtime\">\r\n\t\t\t\t\t\t\t<span>{{item.showtime}}</span>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"left_item\" v-if=\"!item.myself\">\r\n\t\t\t\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t\t\t\t<image mode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t\tsrc=\"https://s3.bmp.ovh/imgs/2021/12/d76321bafd236500.jpg\">\r\n\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t{{item.content}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right_item left_item\" v-if=\"item.myself\">\r\n\t\t\t\t\t\t\t<!-- <view class=\"time\" v-if=\"judgeTime(item.time,index)\">\r\n\t\t\t\t\t\t\t\t<span>{{judgeTime(item.time,index)}}</span>\r\n\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t{{item.content}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t\t\t\t<image mode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t\tsrc=\"http://ksimagebed.oss-cn-hangzhou.aliyuncs.com/imgbed/2021-12-6-19%3A59%3A37-deb384f94227cc5fb817d5dccf142ed0.jpg\">\r\n\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\r\n\t\t</view>\r\n\t\t<view class=\"empty_box\" :style=\"{height:boxheight}\"></view>\r\n\t\t<view class=\"input_wrap\" ref=\"inputRef\" :style=\"{bottom:boxheight}\">\r\n\t\t\t<textarea class=\"input_text\" maxlength=\"-1\" cursor-spacing=\"20\" @confirm=\"confirm\"\r\n\t\t\t\t@keyboardheightchange=\"keyboardheightchange\" @linechange=\"linechange\" v-model=\"message\"\r\n\t\t\t\t:adjust-position=\"false\" auto-height hold-keyboard />\r\n\t\t\t<view class=\"send_btn\" @click=\"sendMessage\">\r\n\t\t\t\t发送\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<safe-footer></safe-footer>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport safeFooter from \"../../components/safe-footer/safe-footer.vue\"\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tsafeFooter\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttarget: {},\r\n\t\t\t\tmessage: '',\r\n\t\t\t\tscrollToView: '',\r\n\t\t\t\tinputHeight: \"110rpx\",\r\n\t\t\t\tboxheight: \"0px\",\r\n\t\t\t\toldTime: new Date(),\r\n\r\n\t\t\t\trefresherTriggered: false, //下拉刷新的状态\r\n\t\t\t\tmessageList: [{\r\n\t\t\t\t\t\tautheid: 1215,\r\n\t\t\t\t\t\tmessageid: 66,\r\n\t\t\t\t\t\tmyself: false,\r\n\t\t\t\t\t\ttime: \"Tue Dec 23 2021 17:51:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\tcontent: '你在干嘛'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// ,\r\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tautheid: 1245,\r\n\t\t\t\t\t// \tmessageid: 77,\r\n\t\t\t\t\t// \tmyself: true,\r\n\t\t\t\t\t// \ttime: \"Tue Dec 23 2021 18:01:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t// \tcontent: '友友们88 我要睡觉了~ 😎'\r\n\t\t\t\t\t// }\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.target.id = option.id;\r\n\t\t\tthis.target.name = option.name;\r\n\t\t\tthis.target.type = option.type;\r\n\r\n\t\t\tconsole.log(option.id, option.name)\r\n\r\n\t\t\tthis.handleMessage(this.messageList)\r\n\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trefresherrefresh() {\r\n\t\t\t\tthis.refresherTriggered = true\r\n\t\t\t\tconsole.log(\"下拉刷新~\")\r\n\r\n\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.refresherTriggered = false\r\n\r\n\t\t\t\t\tlet fakeData = [{\r\n\t\t\t\t\t\t\tautheid: 1215,\r\n\t\t\t\t\t\t\tmessageid: 1,\r\n\t\t\t\t\t\t\tmyself: false,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 17:51:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '获取到数据啦~'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tautheid: 1245,\r\n\t\t\t\t\t\t\tmessageid: 2,\r\n\t\t\t\t\t\t\tmyself: true,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:01:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '睡觉了~ 😎'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tautheid: 1245,\r\n\t\t\t\t\t\t\tmessageid: 3,\r\n\t\t\t\t\t\t\tmyself: true,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:01:04 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '😎'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tautheid: 1215,\r\n\t\t\t\t\t\t\tmessageid: 4,\r\n\t\t\t\t\t\t\tmyself: false,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:21:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: 'okok'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tautheid: 1245,\r\n\t\t\t\t\t\t\tmessageid: 5,\r\n\t\t\t\t\t\t\tmyself: true,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:23:04 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '今天吃泡面😎'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tautheid: 1215,\r\n\t\t\t\t\t\t\tmessageid: 6,\r\n\t\t\t\t\t\t\tmyself: false,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:29:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '~~~~'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tautheid: 1245,\r\n\t\t\t\t\t\t\tmessageid: 7,\r\n\t\t\t\t\t\t\tmyself: true,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:43:04 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '差不多得了🤣😎'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tautheid: 1215,\r\n\t\t\t\t\t\t\tmessageid: 8,\r\n\t\t\t\t\t\t\tmyself: false,\r\n\t\t\t\t\t\t\ttime: \"Tue Nov 22 2021 18:50:01 GMT+0800 (中国标准时间)\",\r\n\t\t\t\t\t\t\tcontent: '纯真'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t]\r\n\r\n\t\t\t\t\tfor (let i = fakeData.length - 1; i > 0; i--) {\r\n\t\t\t\t\t\tthis.messageList.unshift(fakeData[i])\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.oldTime = new Date()\r\n\r\n\t\t\t\t\tthis.handleMessage(this.messageList)\r\n\r\n\t\t\t\t\tthis.gotoView(0)\r\n\r\n\r\n\t\t\t\t}, 2000)\r\n\r\n\r\n\t\t\t},\r\n\t\t\trefresherrestore() {\r\n\t\t\t\tconsole.log(\"刷新结束~\")\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tthis.boxheight = 0\r\n\t\t\t},\r\n\t\t\tkeyboardheightchange(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.boxheight = e.detail.height + \"px\"\r\n\t\t\t\t// console.log(this.boxheight)\r\n\t\t\t},\r\n\t\t\tlinechange(e) {\r\n\t\t\t\t// console.log(e.detail)\r\n\t\t\t\tif (e.detail.lineCount === 1 || e.detail.lineCount === 0) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet height = e.detail.height * 2 + 55\r\n\r\n\t\t\t\tif (height > 200) {\r\n\t\t\t\t\theight = 200\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.inputHeight = `${height}rpx`\r\n\t\t\t\t// console.log(this.inputHeight)\r\n\t\t\t},\r\n\t\t\tsendMessage() {\r\n\r\n\t\t\t\tif (this.message === \"\") return\r\n\r\n\t\t\t\tthis.inputHeight = \"110rpx\"\r\n\r\n\t\t\t\tlet messageObj = {\r\n\t\t\t\t\tautheid: 1245,\r\n\t\t\t\t\tmessageid: this.messageList[this.messageList.length - 1].messageid + 1,\r\n\t\t\t\t\tmyself: true,\r\n\t\t\t\t\ttime: new Date(),\r\n\t\t\t\t\tcontent: this.message\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tmessageObj = this.handleMessage(messageObj)\r\n\r\n\t\t\t\tthis.messageList.push(messageObj);\r\n\r\n\t\t\t\t//跳转到最后一条消息\r\n\t\t\t\tthis.gotoView(1)\r\n\r\n\t\t\t\tthis.message = ''\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet messageObj2 = {\r\n\t\t\t\t\t\tautheid: 1215,\r\n\t\t\t\t\t\tmessageid: this.messageList[this.messageList.length - 1].messageid + 1,\r\n\t\t\t\t\t\tmyself: false,\r\n\t\t\t\t\t\ttime: new Date(),\r\n\t\t\t\t\t\tcontent: \"那好吧\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tmessageObj2 = this.handleMessage(messageObj2)\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.messageList.push(messageObj2);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t},3000)\r\n\t\t\t\t\r\n\t\t\t\tthis.gotoView(1)\r\n\r\n\r\n\t\t\t},\r\n\t\t\thandleMessage(list) {\r\n\r\n\t\t\t\tif (list.length) {\r\n\t\t\t\t\tlist.forEach(item => {\r\n\r\n\t\t\t\t\t\tlet type = this.spacetime(item.time)\r\n\t\t\t\t\t\tif (type === 0) {\r\n\t\t\t\t\t\t\titem.showtime = null\r\n\t\t\t\t\t\t} else if (type === 1) {\r\n\t\t\t\t\t\t\titem.showtime = this.$u.timeFormat(item.time, 'yyy-mm-dd hh:MM')\r\n\t\t\t\t\t\t} else if (type === 2) {\r\n\t\t\t\t\t\t\titem.showtime = this.$u.timeFormat(item.time, 'mm-dd hh:MM')\r\n\t\t\t\t\t\t} else if (type === 3) {\r\n\t\t\t\t\t\t\titem.showtime = this.$u.timeFormat(item.time, 'hh:MM')\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.oldTime = item.time\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet type = this.spacetime(list.time)\r\n\t\t\t\t\tif (type === 0) {\r\n\t\t\t\t\t\tlist.showtime = null\r\n\t\t\t\t\t} else if (type === 1) {\r\n\t\t\t\t\t\tlist.showtime = this.$u.timeFormat(list.time, 'yyy-mm-dd hh:MM')\r\n\t\t\t\t\t} else if (type === 2) {\r\n\t\t\t\t\t\tlist.showtime = this.$u.timeFormat(list.time, 'mm-dd hh:MM')\r\n\t\t\t\t\t} else if (type === 3) {\r\n\t\t\t\t\t\tlist.showtime = this.$u.timeFormat(list.time, 'hh:MM')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.oldTime = list.time\r\n\r\n\t\t\t\t\treturn list\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgotoView(type) {\r\n\t\t\t\t// 0 跳最上面  1 跳最下面\r\n\r\n\t\t\t\t//设置跳转到哪一条消息\r\n\r\n\t\t\t\tif (type) {\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\r\n\t\t\t\t\t\tthis.scrollToView = 'msg' + this.messageList[this.messageList.length - 1].messageid\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\r\n\t\t\t\t\t\tthis.scrollToView = 'msg' + this.messageList[0].messageid\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tspacetime(time) {\r\n\r\n\t\t\t\t//time 当前消息的时间\r\n\r\n\t\t\t\t// 0 小于5分钟 1 大于一年 2 一年以内 3 一天以内\r\n\r\n\r\n\t\t\t\t// console.log(index, this.oldTime.toString(), time)\r\n\r\n\r\n\t\t\t\tlet stime = new Date(time)\r\n\t\t\t\tlet etime = new Date(this.oldTime)\r\n\r\n\t\t\t\tstime = stime.toString().length == 10 ? Math.ceil(stime * 1000) : stime // 开始时间戳\r\n\t\t\t\tetime = etime.toString().length == 10 ? Math.ceil(etime * 1000) : etime // 结束时间戳\r\n\r\n\t\t\t\tlet usedTime = Math.abs(etime - stime) // 两个时间戳相隔的毫秒数\r\n\t\t\t\tlet days = Math.floor(usedTime / (24 * 3600 * 1000)) // 计算相差的天数\r\n\r\n\t\t\t\t// console.log(usedTime)\r\n\r\n\t\t\t\t//小于五分钟\r\n\t\t\t\tlet havefive = usedTime < 300000\r\n\r\n\t\t\t\tif (havefive) return 0\r\n\r\n\t\t\t\tif (days > 0) {\r\n\r\n\t\t\t\t\tif (days > 356) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t\t// return this.$u.timeFormat(time, 'yyy-mm-dd hh:MM')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn 2\r\n\t\t\t\t\t\t// return this.$u.timeFormat(time, 'mm-dd hh:MM')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 3\r\n\t\t\t\t\t// return this.$u.timeFormat(time, 'hh:MM')\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #fff;\r\n\r\n\t\t.content {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\r\n\t\t\t.empty_box {\r\n\t\t\t\ttransition: all 0.5s;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t}\r\n\r\n\r\n\t\t\t.main {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t// background-color: pink;\r\n\r\n\t\t\t\t.loadingWraper {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 0rpx;\r\n\t\t\t\t\topacity: 0;\r\n\t\t\t\t\ttransition: all 0.5s;\r\n\t\t\t\t\t// background-color: pink;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.isloading {\r\n\t\t\t\t\theight: 65rpx;\r\n\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\topacity: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.chat_scroll {\r\n\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\ttransition: all 0.5s;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.system_chat_wrap {\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\theight: 300rpx;\r\n\t\t\t\t\t// background-color: pink;\r\n\r\n\t\t\t\t\t.item {\r\n\t\t\t\t\t\t// width: 100%;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\tbackground-color: rgba(207, 207, 207, 0.2);\r\n\r\n\t\t\t\t\t\t.time {\r\n\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\theight: 30%;\r\n\r\n\t\t\t\t\t\t\tspan {\r\n\t\t\t\t\t\t\t\t// display: block;\r\n\t\t\t\t\t\t\t\tpadding: 5rpx 12rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #bebebe;\r\n\t\t\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\t\tborder: 1rpx solid rgba(207, 207, 207, 0.8);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.desc {\r\n\t\t\t\t\t\t\theight: 70%;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.arrow {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tright: 40rpx;\r\n\t\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\t\ttransform: translate(0, -50%);\r\n\t\t\t\t\t\t\t// background-color: yellow;\r\n\r\n\t\t\t\t\t\t\ti {\r\n\t\t\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.chat_list {\r\n\t\t\t\t\theight: 100%;\r\n\r\n\t\t\t\t\t.time {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\t\t\tpadding-bottom: 0;\r\n\t\t\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\t\t\tspan {\r\n\t\t\t\t\t\t\t// display: block;\r\n\t\t\t\t\t\t\tpadding: 5rpx 12rpx;\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #bebebe;\r\n\t\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\tborder: 1rpx solid rgba(207, 207, 207, 0.8);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.left_item {\r\n\t\t\t\t\t\t// background-color: pink;\r\n\t\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-wrap: wrap;\r\n\r\n\r\n\r\n\t\t\t\t\t\t.avatar {\r\n\t\t\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t\t\t\theight: 90rpx;\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t\t// background-color: yellow;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.message {\r\n\t\t\t\t\t\t\tmax-width: calc(100% - 110rpx);\r\n\t\t\t\t\t\t\tmin-height: 90rpx;\r\n\t\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tbackground-color: rgba(207, 207, 207, 0.2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.right_item {\r\n\t\t\t\t\t\tjustify-content: flex-end;\r\n\r\n\t\t\t\t\t\t.avatar {\r\n\t\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t\t// background-color: yellow;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.input_wrap {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tmin-height: 100rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tpadding: 12rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\ttransition: all 0.5s;\r\n\t\t\t\tborder-top: 1rpx solid rgba(207, 207, 207, 0.2);\r\n\t\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t\t.input_text {\r\n\t\t\t\t\twidth: 600rpx;\r\n\t\t\t\t\tmin-height: 70rpx;\r\n\t\t\t\t\tmax-height: 168rpx;\r\n\t\t\t\t\toverflow-y: auto;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\ttransition: all 0.5s;\r\n\t\t\t\t\tbackground-color: rgba(207, 207, 207, 0.2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.send_btn {\r\n\t\t\t\t\twidth: 90rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tline-height: 60rpx;\r\n\t\t\t\t\tborder-radius: 15rpx;\r\n\t\t\t\t\tbackground-color: #5098FF;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t// border: 1rpx solid rgba(207, 207, 207, 0.8);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatRoom.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chatRoom.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1670415629060\n      var cssReload = require(\"F:/桌面/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}